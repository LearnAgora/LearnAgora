{% extends "LaCoreBundle::layout.html.twig" %}

{% block html_tag 'ng-app="card"' %}
{% block body_tags 'role="document"  ng-controller="CardController as card"' %}
{% block main %}
    <div class="panel panel-primary" ng-controller="PanelController as panel" ng-init="card.init('{{ type }}','{{ particle.id }}','{{ particle.name }}','{{ particle.description }}')">
        <div style="float:left; width:90%;">
            <div style="padding: 20px;">
                <div class="panel">
                    <div class="panel-title" style="padding:3px;padding-left:2px;" ng-show="!card.editTitle" ng-click="card.editTitle=true">{{ '{{ card.getName() }}' }}</div>
                    <input class="panel-title" style="outline:none;" type="text" name="name" ng-show="card.editTitle" ng-blur="card.save()" ng-model="card.name" value="" placeholder="enter {{ type }} name" />
                    <br /><span ng-show="card.editTitle" style="cursor:pointer; border: 1px solid #000;">save</span>
                </div>
                <hr>
                <div class="panel" ng-show="card.id>0">
                    <div class="panel" ng-show="panel.isSelected(1)">
                        <div>Summary:</div>
                        <div class="panel-title">{{ '{{ card.description }}' }}</div>
                        <textarea class="panel-title" ng-model="card.description" name="description" placeholder="enter description">{{ '{{ card.description }}' }}</textarea>
                        <input type="submit" ng-click="card.save()" value="save">
                    </div>
                    <div class="panel" ng-show="panel.isSelected(2)">
                        Question associated with this {{ type }}<br />
                        <input type="text" class="panel-title" ng-model="card.question.name" value="" placeholder="enter question name" />
                        <br /><input type="text" class="panel-title" ng-model="card.question.description" value="" placeholder="enter question" />
                        <br /><input type="submit" ng-click="card.question.save()" value="save">
                    </div>
                    <div class="panel" ng-show="panel.isSelected(3)">
                        Panel 3
                    </div>
                </div>
            </div>
        </div>
        <div ng-show="card.id>0" style="float: left; width: 10%">
            <ul class="nav nav-pills">
                <li ng-class="{active:panel.isSelected(1)}">
                    <a href ng-click="panel.selectTab(1)">
                        <img src="{{ asset('bundles/lacore/images/description_high.png', absolute=true) }}" />
                    </a>
                </li>
                <li ng-class="{active:panel.isSelected(2)}">
                    <a href ng-click="panel.selectTab(2)">
                        <img src="{{ asset('bundles/lacore/images/outcomes.png', absolute=true) }}" />
                    </a>
                </li>
                <li ng-class="{active:panel.isSelected(3)}">
                    <a href ng-click="panel.selectTab(3)">
                        <img src="{{ asset('bundles/lacore/images/relations.png', absolute=true) }}" />
                    </a>
                </li>
            </ul>
        </div>
        <div style="clear: both;"></div>
        <div id="debug" style="display: block;">debug comes here</div>
    </div>
{% endblock %}
